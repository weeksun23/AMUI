<!DOCTYPE HTML>
<html>
<head>
	<meta charset='utf-8'>
	<meta name="format-detection" content="telephone=no" >
	<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
	<title>avalon dialog</title>
	<link rel="stylesheet" type="text/css" href="demo.css">
	<style type="text/css">
	</style>
</head>
<body ms-controller='demo'>
	<h1 class='title'>Dialog</h1>
	<div class='tac oper'>
		<a href="javascript:void(0)" class='btn btn-block btn-lightblue' ms-on-tap='$alert'>alert</a>
		<a href="javascript:void(0)" class='btn btn-block btn-lightblue' ms-on-tap='$confirm'>confirm</a>
		<a href="javascript:void(0)" class='btn btn-block btn-lightblue' ms-on-tap='$define'>自定义</a>
	</div>
	<div ms-widget="dialog,$dialog1,$dialog1Opts">
		<h1>自定义dialog</h1>
		<p>r23r23r23t2twertertret</p>
		<p>r23r23r23t2twertertret</p>
		<p>r23r23r23t2twertertret</p>
		<p>r23r23r23t2twertertret</p>
	</div>
	<script src='../src/avalon.mobile.js'></script>
	<script>
		require(["dialog/avalon.dialog"],function(){
			avalon.define('demo',function(vm){
				vm.$alert = function(){
					avalon.ui.dialog.alert("标题","内容",function(){
						alert("确定回调");
					});
				};
				vm.$confirm = function(){
					avalon.ui.dialog.confirm("标题","内容",function(){
						//关闭confirm窗口 this指向vmodel
						this.close();
						avalon.ui.dialog.alert("按下确定","您按了确定");
					});
				};
				vm.$define = function(){
					avalon.vmodels.$dialog1.open();
				};
				vm.$dialog1Opts = {
					title : '自定义dialog',
					buttons : [{
						text : '关闭',
						close : true
					}]
				};
			});
			avalon.scan();
		});
	</script>
</body>
</html>